<!-- LoadingSpinner.xaml -->
<UserControl x:Class="DartTournamentPlaner.Controls.LoadingSpinner"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="200" d:DesignWidth="300"
             Background="Transparent">

    <UserControl.Resources>
        <!-- Drop Shadow Effect -->
        <DropShadowEffect x:Key="DropShadowEffect"
                          Color="Black" 
                          Direction="270" 
                          ShadowDepth="5" 
                          BlurRadius="10" 
                          Opacity="0.3"/>
        
        <!-- Rotation Animation -->
        <Storyboard x:Key="SpinnerAnimation" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetName="SpinnerRotate"
                           Storyboard.TargetProperty="Angle"
                           From="0" To="360" Duration="0:0:1.5"/>
        </Storyboard>
    </UserControl.Resources>
    
    <!-- Overlay Panel -->
    <Grid Name="MainGrid" Background="Transparent">
        
        <!-- Semi-transparent overlay -->
        <Rectangle Fill="Black" Opacity="0.3" />
        
        <!-- Loading Content -->
        <Border Background="White" 
                CornerRadius="10" 
                Padding="20"
                HorizontalAlignment="Center" 
                VerticalAlignment="Center"
                MinWidth="200"
                MinHeight="120"
                Effect="{StaticResource DropShadowEffect}">
            
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                
                <!-- Animated Spinner -->
                <Ellipse Name="SpinnerEllipse" 
                         Width="40" 
                         Height="40" 
                         HorizontalAlignment="Center"
                         Margin="0,0,0,15">
                    <Ellipse.Fill>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                            <GradientStop Color="#2196F3" Offset="0"/>
                            <GradientStop Color="#64B5F6" Offset="0.5"/>
                            <GradientStop Color="#BBDEFB" Offset="1"/>
                        </LinearGradientBrush>
                    </Ellipse.Fill>
                    <Ellipse.RenderTransform>
                        <RotateTransform x:Name="SpinnerRotate" CenterX="20" CenterY="20"/>
                    </Ellipse.RenderTransform>
                </Ellipse>
                
                <!-- Loading Text -->
                <TextBlock Name="LoadingTextBlock" 
                           Text="Wird geladen..." 
                           FontSize="14" 
                           FontWeight="Medium"
                           TextAlignment="Center"
                           Foreground="#333333"
                           HorizontalAlignment="Center"/>
                
                <!-- Progress Text (optional) -->
                <TextBlock Name="ProgressTextBlock" 
                           Text="" 
                           FontSize="12" 
                           TextAlignment="Center"
                           Foreground="#666666"
                           HorizontalAlignment="Center"
                           Margin="0,5,0,0"
                           Visibility="Collapsed"/>
                
            </StackPanel>
        </Border>
    </Grid>
    
</UserControl>