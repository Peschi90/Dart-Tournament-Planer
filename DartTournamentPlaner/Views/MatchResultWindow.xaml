<Window x:Class="DartTournamentPlaner.Views.MatchResultWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Match Result" Height="700" Width="550"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ShowInTaskbar="False">
    <Window.Resources>
        <!-- Moderne Button-Styles basierend auf TournamentDialogHelper Design -->
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="{Binding RelativeSource={RelativeSource Self}, Path=Tag, TargetNullValue=#3B82F6}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="16,10"/>
            <Setter Property="MinWidth" Value="120"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="6" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background">
                                    <Setter.Value>
                                        <LinearGradientBrush>
                                            <GradientStop Color="#2563EB" Offset="0"/>
                                            <GradientStop Color="#1D4ED8" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#CCCCCC"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ModernCancelButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#F8FAFC"/>
            <Setter Property="Foreground" Value="#475569"/>
            <Setter Property="BorderBrush" Value="#CBD5E1"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Name="border" Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#F1F5F9"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Modernes TextBox Design -->
        <Style x:Key="ModernTextBox" TargetType="TextBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#CBD5E1"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontFamily" Value="Segoe UI"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Name="border" Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8" Padding="2">
                            <ScrollViewer x:Name="PART_ContentHost" Padding="{TemplateBinding Padding}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#3B82F6"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="2"/>
                                <Setter TargetName="border" Property="Effect">
                                    <Setter.Value>
                                        <DropShadowEffect Color="#3B82F6" BlurRadius="8" 
                                                          Direction="0" ShadowDepth="0" Opacity="0.3"/>
                                    </Setter.Value>
                                </Setter>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Moderne Up/Down Button Style -->
        <Style x:Key="UpDownButton" TargetType="Button">
            <Setter Property="Background" Value="#F8FAFC"/>
            <Setter Property="BorderBrush" Value="#CBD5E1"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Width" Value="32"/>
            <Setter Property="Height" Value="28"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#E2E8F0"/>
                                <Setter Property="BorderBrush" Value="#3B82F6"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#CBD5E1"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Arrow Icon Paths -->
        <PathGeometry x:Key="ArrowUpPath">
            <PathFigure StartPoint="6,10">
                <LineSegment Point="12,4"/>
                <LineSegment Point="18,10"/>
                <LineSegment Point="16,12"/>
                <LineSegment Point="12,8"/>
                <LineSegment Point="8,12"/>
                <LineSegment Point="6,10"/>
            </PathFigure>
        </PathGeometry>
        
        <PathGeometry x:Key="ArrowDownPath">
            <PathFigure StartPoint="6,6">
                <LineSegment Point="8,4"/>
                <LineSegment Point="12,8"/>
                <LineSegment Point="16,4"/>
                <LineSegment Point="18,6"/>
                <LineSegment Point="12,12"/>
                <LineSegment Point="6,6"/>
            </PathFigure>
        </PathGeometry>
    </Window.Resources>
    
    <!-- Hauptcontainer mit modernem Design -->
    <Border Background="Transparent" Margin="10">
        <Border Background="{x:Static SystemColors.WindowBrush}" 
                CornerRadius="12" 
                BorderBrush="#E2E8F0" 
                BorderThickness="1">
            <Border.Effect>
                <DropShadowEffect Color="Black" Direction="270" ShadowDepth="8" 
                                  BlurRadius="20" Opacity="0.15"/>
            </Border.Effect>
            
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                
                <!-- Header mit Gradient -->
                <Border Grid.Row="0" CornerRadius="12,12,0,0" 
                        Padding="24,18,24,18" MouseLeftButtonDown="Header_MouseLeftButtonDown">
                    <Border.Background>
                        <LinearGradientBrush>
                            <GradientStop Color="#22C55E" Offset="0"/>
                            <GradientStop Color="#16A34A" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    
                    <StackPanel Orientation="Horizontal">
                        <TextBlock Text="âš½" FontSize="20" Margin="0,0,12,0" 
                                   VerticalAlignment="Center"/>
                        <TextBlock Name="HeaderTitle" Text="Match-Ergebnis eingeben" 
                                   FontSize="18" FontWeight="SemiBold" 
                                   Foreground="White" VerticalAlignment="Center"/>
                    </StackPanel>
                </Border>
                
                <!-- Content Area -->
                <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Margin="24,24,24,0">
                    <StackPanel>
                        <!-- Match Info -->
                        <TextBlock Name="MatchInfoBlock" FontSize="16" FontWeight="Bold" 
                                   HorizontalAlignment="Center" TextWrapping="Wrap"
                                   Foreground="#374151" Margin="0,0,0,8"/>
                        
                        <!-- Game Rules Info -->
                        <TextBlock Name="GameRulesBlock" FontSize="13" Foreground="#6B7280"
                                   HorizontalAlignment="Center" TextWrapping="Wrap"
                                   Margin="0,0,0,24"/>
                        
                        <!-- Sets Section -->
                        <Border Name="SetsSection" Visibility="Collapsed" 
                                Background="#F9FAFB" BorderBrush="#E5E7EB" 
                                BorderThickness="1" CornerRadius="12" 
                                Padding="20" Margin="0,0,0,16">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <TextBlock Grid.Row="0" Grid.Column="0" Name="Player1NameSets" 
                                           FontWeight="SemiBold" FontSize="14" Foreground="#374151"
                                           HorizontalAlignment="Center" TextWrapping="Wrap"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Text="SETS" 
                                           FontWeight="Bold" FontSize="12" Foreground="#6B7280"
                                           HorizontalAlignment="Center"/>
                                <TextBlock Grid.Row="0" Grid.Column="2" Name="Player2NameSets" 
                                           FontWeight="SemiBold" FontSize="14" Foreground="#374151"
                                           HorizontalAlignment="Center" TextWrapping="Wrap"/>
                                
                                <!-- Player 1 Sets -->
                                <Grid Grid.Row="2" Grid.Column="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Name="Player1SetsTextBox" Grid.Column="0"
                                             Style="{StaticResource ModernTextBox}"
                                             TextAlignment="Center" FontSize="16" FontWeight="Medium"
                                             TextChanged="Player1SetsTextBox_TextChanged"/>
                                    <StackPanel Grid.Column="1" Margin="8,0,0,0">
                                        <Button Name="Player1SetsUpButton" Style="{StaticResource UpDownButton}" 
                                                Click="Player1SetsUpButton_Click" ToolTip="ErhÃ¶hen">
                                            <Path Data="{StaticResource ArrowUpPath}" Fill="#6B7280" 
                                                  Stretch="Uniform" Width="10" Height="10"/>
                                        </Button>
                                        <Button Name="Player1SetsDownButton" Style="{StaticResource UpDownButton}" 
                                                Click="Player1SetsDownButton_Click" ToolTip="Verringern" 
                                                Margin="0,4,0,0">
                                            <Path Data="{StaticResource ArrowDownPath}" Fill="#6B7280" 
                                                  Stretch="Uniform" Width="10" Height="10"/>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                                
                                <TextBlock Grid.Row="2" Grid.Column="1" Text=":" 
                                           HorizontalAlignment="Center" FontSize="28" 
                                           FontWeight="Bold" VerticalAlignment="Center" 
                                           Foreground="#374151"/>
                                
                                <!-- Player 2 Sets -->
                                <Grid Grid.Row="2" Grid.Column="2">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Name="Player2SetsTextBox" Grid.Column="0"
                                             Style="{StaticResource ModernTextBox}"
                                             TextAlignment="Center" FontSize="16" FontWeight="Medium"
                                             TextChanged="Player2SetsTextBox_TextChanged"/>
                                    <StackPanel Grid.Column="1" Margin="8,0,0,0">
                                        <Button Name="Player2SetsUpButton" Style="{StaticResource UpDownButton}" 
                                                Click="Player2SetsUpButton_Click" ToolTip="ErhÃ¶hen">
                                            <Path Data="{StaticResource ArrowUpPath}" Fill="#6B7280" 
                                                  Stretch="Uniform" Width="10" Height="10"/>
                                        </Button>
                                        <Button Name="Player2SetsDownButton" Style="{StaticResource UpDownButton}" 
                                                Click="Player2SetsDownButton_Click" ToolTip="Verringern" 
                                                Margin="0,4,0,0">
                                            <Path Data="{StaticResource ArrowDownPath}" Fill="#6B7280" 
                                                  Stretch="Uniform" Width="10" Height="10"/>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Border>
                        
                        <!-- Legs Section -->
                        <Border Background="#F9FAFB" BorderBrush="#E5E7EB" 
                                BorderThickness="1" CornerRadius="12" 
                                Padding="20" Margin="0,0,0,16">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="80"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="20"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>
                                
                                <TextBlock Grid.Row="0" Grid.Column="0" Name="Player1NameLegs" 
                                           FontWeight="SemiBold" FontSize="14" Foreground="#374151"
                                           HorizontalAlignment="Center" TextWrapping="Wrap"/>
                                <TextBlock Grid.Row="0" Grid.Column="1" Name="LegsHeaderText" Text="LEGS" 
                                           FontWeight="Bold" FontSize="12" Foreground="#6B7280"
                                           HorizontalAlignment="Center"/>
                                <TextBlock Grid.Row="0" Grid.Column="2" Name="Player2NameLegs" 
                                           FontWeight="SemiBold" FontSize="14" Foreground="#374151"
                                           HorizontalAlignment="Center" TextWrapping="Wrap"/>
                                
                                <!-- Player 1 Legs -->
                                <Grid Grid.Row="2" Grid.Column="0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Name="Player1LegsTextBox" Grid.Column="0"
                                             Style="{StaticResource ModernTextBox}"
                                             TextAlignment="Center" FontSize="16" FontWeight="Medium"
                                             TextChanged="Player1LegsTextBox_TextChanged"/>
                                    <StackPanel Grid.Column="1" Margin="8,0,0,0">
                                        <Button Name="Player1LegsUpButton" Style="{StaticResource UpDownButton}" 
                                                Click="Player1LegsUpButton_Click" ToolTip="ErhÃ¶hen">
                                            <Path Data="{StaticResource ArrowUpPath}" Fill="#6B7280" 
                                                  Stretch="Uniform" Width="10" Height="10"/>
                                        </Button>
                                        <Button Name="Player1LegsDownButton" Style="{StaticResource UpDownButton}" 
                                                Click="Player1LegsDownButton_Click" ToolTip="Verringern" 
                                                Margin="0,4,0,0">
                                            <Path Data="{StaticResource ArrowDownPath}" Fill="#6B7280" 
                                                  Stretch="Uniform" Width="10" Height="10"/>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                                
                                <TextBlock Grid.Row="2" Grid.Column="1" Text=":" 
                                           HorizontalAlignment="Center" FontSize="28" 
                                           FontWeight="Bold" VerticalAlignment="Center" 
                                           Foreground="#374151"/>
                                
                                <!-- Player 2 Legs -->
                                <Grid Grid.Row="2" Grid.Column="2">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <TextBox Name="Player2LegsTextBox" Grid.Column="0"
                                             Style="{StaticResource ModernTextBox}"
                                             TextAlignment="Center" FontSize="16" FontWeight="Medium"
                                             TextChanged="Player2LegsTextBox_TextChanged"/>
                                    <StackPanel Grid.Column="1" Margin="8,0,0,0">
                                        <Button Name="Player2LegsUpButton" Style="{StaticResource UpDownButton}" 
                                                Click="Player2LegsUpButton_Click" ToolTip="ErhÃ¶hen">
                                            <Path Data="{StaticResource ArrowUpPath}" Fill="#6B7280" 
                                                  Stretch="Uniform" Width="10" Height="10"/>
                                        </Button>
                                        <Button Name="Player2LegsDownButton" Style="{StaticResource UpDownButton}" 
                                                Click="Player2LegsDownButton_Click" ToolTip="Verringern" 
                                                Margin="0,4,0,0">
                                            <Path Data="{StaticResource ArrowDownPath}" Fill="#6B7280" 
                                                  Stretch="Uniform" Width="10" Height="10"/>
                                        </Button>
                                    </StackPanel>
                                </Grid>
                            </Grid>
                        </Border>
                        
                        <!-- Validation Messages -->
                        <Border Name="ValidationBorder" Background="#FEF2F2" BorderBrush="#F87171" 
                                BorderThickness="1" CornerRadius="8" Padding="12" 
                                Visibility="Collapsed" Margin="0,0,0,16">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="âš ï¸" FontSize="16" Margin="0,0,8,0" VerticalAlignment="Top"/>
                                <TextBlock Name="ValidationMessageBlock" Foreground="#DC2626" 
                                           FontWeight="Medium" TextWrapping="Wrap" VerticalAlignment="Top"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Winner Info -->
                        <Border Name="WinnerBorder" Background="#F0FDF4" BorderBrush="#4ADE80" 
                                BorderThickness="1" CornerRadius="8" Padding="12" 
                                Visibility="Collapsed" Margin="0,0,0,16">
                            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                                <TextBlock Text="ðŸ†" FontSize="16" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                <TextBlock Name="WinnerInfoBlock" FontWeight="SemiBold" 
                                           Foreground="#15803D" FontSize="14" VerticalAlignment="Center"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Notes Section -->
                        <StackPanel Margin="0,0,0,20">
                            <TextBlock Name="NotesLabel" Text="Notizen:" FontWeight="SemiBold" 
                                       FontSize="14" Foreground="#374151" Margin="0,0,0,8"/>
                            <TextBox Name="NotesTextBox" Style="{StaticResource ModernTextBox}"
                                     Height="80" TextWrapping="Wrap" AcceptsReturn="True" 
                                     VerticalScrollBarVisibility="Auto"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
                
                <!-- Button Panel -->
                <Border Grid.Row="2" BorderBrush="#E5E7EB" BorderThickness="0,1,0,0" 
                        Background="#FAFAFA" CornerRadius="0,0,12,12">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" 
                                Margin="24,16,24,16">
                        <Button Name="CancelButton" Content="Abbrechen" 
                                Style="{StaticResource ModernCancelButton}"
                                Click="CancelButton_Click" 
                                Margin="0,0,12,0" IsCancel="True"/>
                        <Button Name="SaveButton" Content="Ergebnis speichern" 
                                Style="{StaticResource ModernButton}"
                                Click="SaveButton_Click" IsEnabled="False" IsDefault="True"/>
                    </StackPanel>
                </Border>
            </Grid>
        </Border>
    </Border>
</Window>