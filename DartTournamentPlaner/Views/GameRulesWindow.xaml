<Window x:Class="DartTournamentPlaner.Views.GameRulesWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Game Rules Configuration" Height="650" Width="700"
        WindowStartupLocation="CenterOwner"
        ResizeMode="NoResize">
    <Window.Resources>
        <Style TargetType="Button">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Background" Value="#2196F3"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" 
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1976D2"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        
        <Style TargetType="ComboBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#DDDDDD"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>
        
        <Style TargetType="CheckBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        
        <Style TargetType="TextBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="BorderBrush" Value="#DDDDDD"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Width" Value="60"/>
        </Style>
    </Window.Resources>
    
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="20"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="20"/>
                <!-- Post-Group Phase Section -->
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="20"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="220"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>
            
            <!-- Title -->
            <TextBlock Grid.Row="0" Grid.ColumnSpan="2" Name="TitleBlock" FontSize="18" FontWeight="Bold" 
                       HorizontalAlignment="Center"/>
            
            <!-- Game Mode -->
            <TextBlock Grid.Row="2" Grid.Column="0" Name="GameModeLabel" Text="Game Mode:" VerticalAlignment="Center" FontWeight="Medium"/>
            <ComboBox Grid.Row="2" Grid.Column="1" Name="GameModeComboBox" SelectedValuePath="Tag">
                <ComboBoxItem Content="501 Points" Tag="Points501"/>
                <ComboBoxItem Content="401 Points" Tag="Points401"/>
                <ComboBoxItem Content="301 Points" Tag="Points301"/>
            </ComboBox>
            
            <!-- Finish Mode -->
            <TextBlock Grid.Row="3" Grid.Column="0" Name="FinishModeLabel" Text="Finish Mode:" VerticalAlignment="Center" FontWeight="Medium"/>
            <ComboBox Grid.Row="3" Grid.Column="1" Name="FinishModeComboBox" SelectedValuePath="Tag">
                <ComboBoxItem Content="Single Out" Tag="SingleOut"/>
                <ComboBoxItem Content="Double Out" Tag="DoubleOut"/>
            </ComboBox>
            
            <!-- Legs to Win -->
            <TextBlock Grid.Row="4" Grid.Column="0" Name="LegsToWinLabel" Text="Legs to Win:" VerticalAlignment="Center" FontWeight="Medium"/>
            <TextBox Grid.Row="4" Grid.Column="1" Name="LegsToWinTextBox" HorizontalAlignment="Left"/>
            
            <!-- Play with Sets -->
            <TextBlock Grid.Row="5" Grid.Column="0" Name="PlayWithSetsLabel" Text="Play with Sets:" VerticalAlignment="Center" FontWeight="Medium"/>
            <CheckBox Grid.Row="5" Grid.Column="1" Name="PlayWithSetsCheckBox" Content="Enable sets mode" Checked="PlayWithSetsCheckBox_Checked" Unchecked="PlayWithSetsCheckBox_Unchecked"/>
            
            <!-- Sets Configuration -->
            <Grid Grid.Row="6" Grid.Column="0" Grid.ColumnSpan="2" Name="SetsConfigGrid" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="220"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Row="0" Grid.Column="0" Name="SetsToWinLabel" Text="Sets to Win:" VerticalAlignment="Center" FontWeight="Medium" Margin="20,5,5,5"/>
                <TextBox Grid.Row="0" Grid.Column="1" Name="SetsToWinTextBox" HorizontalAlignment="Left"/>
                
                <TextBlock Grid.Row="1" Grid.Column="0" Name="LegsPerSetLabel" Text="Legs per Set:" VerticalAlignment="Center" FontWeight="Medium" Margin="20,5,5,5"/>
                <TextBox Grid.Row="1" Grid.Column="1" Name="LegsPerSetTextBox" HorizontalAlignment="Left"/>
            </Grid>
            
            <!-- Post-Group Phase Section -->
            <Border Grid.Row="10" Grid.ColumnSpan="2" BorderBrush="#E0E0E0" BorderThickness="1" CornerRadius="8" Padding="15" Background="#FAFAFA">
                <TextBlock Text="Nach der Gruppenphase" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center"/>
            </Border>
            
            <!-- Post-Group Phase Mode -->
            <TextBlock Grid.Row="11" Grid.Column="0" Name="PostGroupPhaseModeLabel" Text="Post-Group Phase Mode:" VerticalAlignment="Center" FontWeight="Medium"/>
            <ComboBox Grid.Row="11" Grid.Column="1" Name="PostGroupPhaseModeComboBox" SelectedValuePath="Tag" SelectionChanged="PostGroupPhaseModeComboBox_SelectionChanged">
                <ComboBoxItem Content="Nur Gruppenphase" Tag="None"/>
                <ComboBoxItem Content="Finalrunde (Round Robin)" Tag="RoundRobinFinals"/>
                <ComboBoxItem Content="KO-System" Tag="KnockoutBracket"/>
            </ComboBox>
            
            <!-- Qualifying Players -->
            <TextBlock Grid.Row="12" Grid.Column="0" Name="QualifyingPlayersLabel" Text="Qualifizierte pro Gruppe:" VerticalAlignment="Center" FontWeight="Medium"/>
            <TextBox Grid.Row="12" Grid.Column="1" Name="QualifyingPlayersTextBox" HorizontalAlignment="Left"/>
            
            <!-- Knockout Configuration -->
            <Grid Grid.Row="13" Grid.Column="0" Grid.ColumnSpan="2" Name="KnockoutConfigGrid" Visibility="Collapsed">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="220"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <TextBlock Grid.Row="0" Grid.Column="0" Name="KnockoutModeLabel" Text="KO-Modus:" VerticalAlignment="Center" FontWeight="Medium" Margin="20,5,5,5"/>
                <ComboBox Grid.Row="0" Grid.Column="1" Name="KnockoutModeComboBox" SelectedValuePath="Tag" SelectionChanged="KnockoutModeComboBox_SelectionChanged">
                    <ComboBoxItem Content="Einfaches KO" Tag="SingleElimination"/>
                    <ComboBoxItem Content="Doppeltes KO (Winner + Loser Bracket)" Tag="DoubleElimination"/>
                </ComboBox>
                
                <StackPanel Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Name="LoserBracketConfigPanel" Visibility="Collapsed" Margin="20,5,5,5">
                    <CheckBox Name="IncludeGroupPhaseLosersBracketCheckBox" Content="Gruppenphase-Verlierer ins Loser Bracket aufnehmen"/>
                </StackPanel>
            </Grid>
            
            <!-- Preview -->
            <TextBlock Grid.Row="17" Grid.Column="0" Name="PreviewLabel" Text="Rules Preview:" FontWeight="Medium"/>
            <TextBlock Grid.Row="17" Grid.Column="1" Name="PreviewText" FontStyle="Italic" Foreground="Gray" TextWrapping="Wrap"/>
            
            <!-- Buttons -->
            <StackPanel Grid.Row="19" Grid.Column="0" Grid.ColumnSpan="2" 
                        Orientation="Horizontal" 
                        HorizontalAlignment="Right" 
                        Margin="0,20,0,0">
                <Button Name="SaveButton" Content="Save Rules" Width="100" Click="SaveButton_Click"/>
                <Button Name="CancelButton" Content="Cancel" Width="80" Click="CancelButton_Click" Background="#757575"/>
            </StackPanel>
        </Grid>
    </ScrollViewer>
</Window>